---
import BaseLayout from "../../layouts/BaseLayout.astro";
import timetrialsdata from "../../data/timetrials.json";
const allResults = await Astro.glob("../timetrials/resultYears/*.md");

const pageTitle = "Time Trials";
---

<BaseLayout pageTitle={pageTitle}>
    <a href="./timeTrialCourses" class="text-center my-2 inline-block rounded-full
	bg-neutral-200 px-4 pb-2 pt-2.5 text-xs font-medium uppercase
	leading-normal text-neutral-700 shadow-md transition duration-150
	ease-in-out hover:bg-neutral-300 hover:shadow-lg
	focus:bg-neutral-300 focus:shadow-lg focus:outline-none focus:ring-0
	active:bg-neutral-400 active:shadow-lg dark:bg-neutral-600
	dark:text-neutral-200 dark:hover:bg-neutral-500
	dark:focus:bg-neutral-500 dark:active:bg-neutral-400">Time Trial Courses</a>

    {
        allResults.map(
            (result) => (
    <a href={result.url} class="text-center my-2 inline-block rounded-full
	bg-neutral-200 px-4 pb-2 pt-2.5 text-xs font-medium uppercase
	leading-normal text-neutral-700 shadow-md transition duration-150
	ease-in-out hover:bg-neutral-300 hover:shadow-lg
	focus:bg-neutral-300 focus:shadow-lg focus:outline-none focus:ring-0
	active:bg-neutral-400 active:shadow-lg dark:bg-neutral-600
	dark:text-neutral-200 dark:hover:bg-neutral-500
	dark:focus:bg-neutral-500 dark:active:bg-neutral-400">{result.frontmatter.Year} Results</a>
    ))}

    <h3>2024 Club TT programme</h3>

    <p>2024 season has arrived..... time to ramp it up!</p>

    <p>
        CTT affiliated Club membership is required (for insurance) if you're not
        a member of a CTT affiliated club then why not join ours!
    </p>

    <p>
        The timetable of events can be found below along with links to the
        course and meeting location. Any questions, please contact
        John Linden, RDFCC Time Trial Secretary.
    </p>

    <table>
        <tr>
            <th>Number</th><th>Date</th><th>Time</th><th>Name</th><th>Course</th
            ><th>Distance</th>
        </tr>

        {
            timetrialsdata.map(
                ({ Num, Name, Date, Time, Course, Distance, CourseLink }) => (
                    <tr>
                        <td>
                            <p>{Num}</p>
                        </td>
                        <td>
                            <p>{Date}</p>
                        </td>
                        <td>
                            <p>{Time}</p>
                        </td>
                        <td>
                            <p>{Name}</p>
                        </td>
                        <td>
                            <p>
                                <a href={`../ttcourses/${CourseLink}`}>
                                    {Course}{" "}
                                </a>
                            </p>
                        </td>
                        <td>
                            <p>{Distance}</p>
                        </td>
                    </tr>
                ),
            )
        }
    </table>

</BaseLayout>

<style>
    a {margin-right: 1em;}
</style>
